---
layout: post
title: "Day 4 - Bug fixes and setup"
---

### What I Set Out to Do
My goal was to start working on the framework for my game logic that would allow the game to work.
---

### What I Actually Did

When I tried running the game, I realized I had a bug! When displaying just the squares list printed out, it worked fine, but when I tried running it in the grid, it didn't. Sometimes no numbers would update after several keyboard inputs, and then multiple would show at the same time. I initially thought the lack of response to my inputs was a performance error, and tried various solutions like lowering the framerate. However, after a lot of time spent excruciatingly analyzing the code, I ended up realizing it was simply an index error. I was at least glad that my graphics system was working though.
~~~
pygame.font
pygame module for loading and rendering fonts
pygame.font.init
initialize the font module
pygame.font.quit
uninitialize the font module
pygame.font.get_init
true if the font module is initialized
pygame.font.get_default_font
get the filename of the default font
pygame.font.get_sdl_ttf_version
gets SDL_ttf version
pygame.font.get_fonts
get all available fonts
pygame.font.match_font
find a specific font on the system
pygame.font.SysFont
create a Font object from the system fonts
pygame.font.Font
create a new Font object from a file
~~~
These functions and their paremeters were very confusing though. After looking around, I saw a youtube video with a simple guide on drawing text in pygame.
I followed their steps carefully to make this function to easily draw text whenever I need:
~~~
text_font = pygame.font.SysFont("Arial",30)
def draw_text(text, font, text_col,x,y):
    img = font.render(text, True, text_col)
    screen.blit(img, (x,y))
~~~
Then, I set up a basic usage of this function to show the list:
~~~
draw_text(str(squares), text_font, (0,0,0),0, 125)
~~~
I then needed to turn it into a grid. I did a little more looking and found a function called **pygame.draw.line**
I used it with a for loop to create the 4x4 grid:
~~~
for i in range(0,4):
        pygame.draw.line(screen,(0,0,0), (125*i,0), (125*i,500))
        pygame.draw.line(screen,(0,0,0), (0,125*i), (500,125*i))
~~~
Next, I needed the numbers. I used the draw_text function from before combined with another for loop.
~~~
for j in range(0,4):
            draw_text(str(squares[i][j]),text_font, (0,0,0),125*j + 50, 125*i+50)
~~~
Overall, I finished adding the graphical interface. It's no visual masterpiece, but it clearly represents 2048.
---

### What I Learned or Noticed
I realized that embarrassingly, I am still not very good at list indexing. Although using lists and loops together is powerful, it is often very hard for me to visualize and keep track of what's going on without extensive tracing.
---

### What's Next

The next stage of my project will be to start working on my game logic with analyzing and merging the grid.
